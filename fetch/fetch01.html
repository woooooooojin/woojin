<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fetch 0601</title>

    <script>
        // fetch('students.json')
        // .then(respons => respons.json())
        // .then(students =>{
        //     let output = ''
        //     students.forEach((student)=>{
        //         output += `
        //         <h2>${student.name}</h2>
        //         <ul>
        //             <li>전공 : ${student.major}</li>    
        //             <li>학년 : ${student.grade}</li>    
        //         </ul>
        //         `
        //     })
        //     document.getElementById('root').innerHTML = output
        // })

        // .catch(err => console.log(err))


        // function order(){
        //     let menu = 'coffee'
        //     return new Promise((resolve, reject)=>resolve(menu))
        // }

        // function display(result){
        //     return new Promise((resolve,reject) => resolve(`thanks ${result}`))
        // }

        // order()
        // .then(display)
        // .then(console.log)






        // async function order() {
        //     let menu = 'coffee'
        //     return menu
        // }
        // async function display(result) {
        //     return `thank you ${result}`
        // }
        // order()
        // .then(display)
        // .then(console.log)







        // async function order() {
        //     let menu = 'coffee'
        //     return menu
        // }
        // async function display(result) {
        //     return `thank you ${result}`
        // }

        // async function init(){
        //     const response = await order()  //await붙은걸 우선적으로 then과 같다
        //     const result = await display(response)
        //     console.log(result)
        // }

        // init()




        // fetch('students.json')
        // .then(response => response.json())
        // .then(students => console.log(students))


        // async function init(){
        //     const response = await fetch('students.json')
        //     const students = await response.json()
        //     console.log(students)
        // }
        // init()
    </script>


    <style>
        table{
            width: 300px;
        }
        table, td, th{
            border: 1px solid #ccc;
        }

        th{
            width: 80px;
        }
      
    </style>
</head>

<body>

    <div id="root"></div>


    <script>

        async function init(){
            const response = await fetch('https://jsonplaceholder.typicode.com/users')
            const users = await response.json()
            display(users)
        }
        
        function display(users){
            const root = document.getElementById('root')
            let output = ''
            users.forEach((user)=>{
                output += `
                <table>
                    <tr><th>이름</th><td>${user.name}</td></tr>
                    <tr><th>아이디</th><td>${user.username}</td></tr>
                    <tr><th>이메일</th><td>${user.email}</td></tr>
                </table>
                `

            })
            root.innerHTML = output
        }
        init()


    </script>
</body>

</html>