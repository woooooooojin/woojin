<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>
        document.addEventListener('DOMContentLoaded', ()=>{

            let itemList = []

            const item = document.querySelector('.item')
            const addBtn = document.querySelector('.add_btn')
            const itemBox = document.querySelector('.itembox')

            addBtn.addEventListener('click',addList)



            function addList(){

                if(item.value !== ''){

                    itemList.unshift(item.value)

                    item.value = ''
                    item.focus()

                }

                showList()

            }//addlist



            function showList(){

                let list = '<ul>'

                for(let i = 0; i < itemList.length; i++){

                    list += '<li>' + itemList[i] + '<span class = "delete" id =' + i + '> X </span></li>'

                }

                list += '</ul>'

                itemBox.innerHTML = list

                let remove = document.querySelectorAll('.delete')

                for(let i = 0; i<remove.length; i++){
                    remove[i].addEventListener('click',removeList)
                }

              

            }//showList


            function removeList(){

                let id = this.getAttribute('id')
                itemList.splice(id,1)
                showList()

            }//removeList



        })

        // document.addEventListener('DOMContentLoaded', ()=>{

        //     document.querySelector('.add_btn').addEventListener('click',function(){


        //         const subject = document.querySelector('.subject')
        //         const subjectList = document.querySelector('.subject_list')

        //         let newP = document.createElement('p')
        //         let newTxt = document.createTextNode(subject.value)
        //         newP.appendChild(newTxt);

        //         let newSpan = document.createElement('span')
        //         let spanTxt = document.createTextNode('X')

        //         newSpan.appendChild(spanTxt)
        //         newP.appendChild(newSpan)

        //         newSpan.setAttribute('class','delete')

        //         if(subject.value == ''){

        //         }else{
        //             subjectList.insertBefore(newP,subjectList.children[0])
        //         }

        //         subject.value = ''
        //         subject.focus()


        //         let delBtn = document.querySelectorAll('.delete')

        //         for(let i = 0; i<delBtn.length; i++){
        //             delBtn[i].addEventListener('click',function(){
        //                 if(delBtn[i].parentNode.parentNode){
        //                     this.parentNode.parentNode.removeChild(this.parentNode)
        //                 }
        //             })
        //         }

        //     })



        // })
       




    </script>

<style>

</style>
</head>
<body>


    <!-- <div class="container">

        <h2>subject list</h2>

        <form action="">

            <input type="text" class="subject" placeholder="과목이름" autofocus>
            <button type="button" class="add_btn">추가</button>

        </form>

        <hr>
        <div class="subject_list">

        </div>

    </div> -->


   
    <div class="container">

        <h2>item list</h2>

        <form action="">

            <input type="text" class="item" autofocus>
            <input type="button" class="add_btn" value="추가">

        </form>
        
        <hr>

        <div class="itembox">



        </div>


    </div>
    

</body>
</html>